<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>L20n Tests</title>

    <!-- L20n language setup -->
    <meta name="defaultLanguage" content="en-US">
    <meta name="availableLanguages" content="en-US, pl">
    <link rel="localization" href="../src/locale/{locale}/dictionary.ftl">

    <!-- Mocha browser UI -->
    <link href="../node_modules/mocha/mocha.css" media="screen" rel="stylesheet" type="text/css" />
  </head>
  <body>
      <!-- Required for browser reporter -->
      <div id="mocha"></div>
      <script src="../bower_components/chai/chai.js" type="text/javascript" charset="utf-8"></script>
      <script src="../bower_components/mocha/mocha.js" type="text/javascript" charset="utf-8"></script>
      <script src="../bower_components/sinonjs/sinon.js" type="text/javascript" charset="utf-8"></script>
      <script src="../bower_components/requirejs/require.js" type="text/javascript" charset="utf-8"></script>

      <!-- l20n Compat version -->
      <script src="../bower_components/babel-polyfill/browser-polyfill.js" type="text/javascript" charset="utf-8"></script>
      <script src="../bower_components/l20n/dist/compat/web/Template.js" type="text/javascript" charset="utf-8"></script>
      <script src="../bower_components/l20n/dist/compat/web/l20n.js" type="text/javascript" charset="utf-8"></script>

      <!--  Setup mocha -->
      <script type="text/javascript" charset="utf-8">
          mocha.ui('bdd');
          // Provide assertion methods.
          expect = chai.expect;
          should = chai.should();
      </script>

      <!-- Load tests -->
      <!-- <script src="l20nSpec.js" type="text/javascript" charset="utf-8"></script> -->

      <!-- Run tests -->
      <script type="text/javascript" charset="utf-8">
          // mocha.run();
          require.config({
            baseUrl: '../src/scripts',
            callback: function () {
              require(['config'], function() {
                require.config({
                  less: {
                    logLevel: 1,
                    globalVars: {
                      dependencyDir: '"../../bower_components"'
                    }
                  },
                  deps: {{ tests }},
                  callback: mocha.run
                });
              });
            }
          });
      </script>
  </body>
</html>
